"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{const e=document.querySelector("main").dataset.urlPrefix;document.querySelector("#cleanup--backupDatabase").addEventListener("click",a=>{a.preventDefault();bulmaJS.confirm({title:"Backup Database",message:"To ensure all data is backed up properly, please make sure all users with update privileges avoid making changes while the backup is running.",contextualColorName:"info",okButton:{text:"Backup Database Now",callbackFunction:()=>{cityssm.postJSON(e+"/admin/doBackupDatabase",{},e=>{e.success&&bulmaJS.alert({title:"Database Backed Up Successfully",message:"Database backed up as <strong>"+cityssm.escapeHTML(e.fileName)+"</strong>.",messageIsHtml:!0,contextualColorName:"success"})})}}})}),document.querySelector("#cleanup--cleanupDatabase").addEventListener("click",a=>{a.preventDefault();bulmaJS.confirm({title:"Cleanup Database",message:"Are you sure you want to cleanup the database?",contextualColorName:"info",okButton:{text:"Cleanup Database Now",callbackFunction:()=>{cityssm.postJSON(e+"/admin/doCleanupDatabase",{},e=>{e.success&&bulmaJS.alert({title:"Database Cleaned Up Successfully",message:e.rowCount+" row"+(1===e.rowCount?"":"s")+" deleted.",contextualColorName:"success"})})}}})})})();